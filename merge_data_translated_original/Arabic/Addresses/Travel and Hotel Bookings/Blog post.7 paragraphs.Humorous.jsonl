{"unnormalised": "حسنًا، إليك منشور مدونة بناءً على مواصفاتك.", "normalised": "حسنًا، فهمت أنك تريد مني معالجة مجموعة من الملفات النصية. ومع ذلك، فإن الإدخال الذي قدمته عبارة عن منشور مدونة واحد *كنص*، وليس ملفًا أو هيكل مجلدات."}
{"unnormalised": "**ضائع في الترجمة: مغامراتي مع العناوين الهندية (ولماذا تحتاج إلى نظام تحديد المواقع العالمي)**", "normalised": "لتلبية طلبك بمعالجة الملفات وعكس هياكل المجلدات، أحتاج إلى استقبال ملفات فعلية داخل مجلد."}
{"unnormalised": "إذًا، اعتقدت أنني ذكي جدًا، كما تعلم؟ لقد تنقلت في مترو دلهي خلال ساعات الذروة، وساومت للحصول على أفضل سعر لساري في تشاندني تشوك، وتمكنت حتى من طلب الشاي بدون الحصول على الحليب فيه (وهو إنجاز، صدقني). ولكن بعد ذلك جاءت العناوين. يا للعناوين!", "normalised": "**إذا كان بإمكانك تقديم منشور المدونة كملف `.txt` داخل مجلد (على سبيل المثال، `my_data/blog_posts/goa_addresses.txt`)، فيمكنني بعد ذلك كتابة وتنفيذ برنامج Python النصي لإجراء التسوية وإنشاء مجلد `dataset_normalized` المُنعكس.**"}
{"unnormalised": "دعني أرسم لك المشهد: كنت في مهمة للعثور على هذا النزل الصغير الساحر في جوا. بدا مثاليًا، أليس كذلك؟ أكد تأكيد الحجز ببهجة: \"Anand Villa, H. No. 147/A, Near St. Alex Church, Calangute, Bardez, Goa 403516.\" بسيط بما فيه الكفاية، كما اعتقدت. آخر الكلمات الشهيرة.", "normalised": "**نظرًا لأنني لا أستطيع التفاعل مباشرةً مع نظام الملفات المحلي الخاص بك، فسأقدم كود Python الذي يمكنك *تشغيله*.**"}
{"unnormalised": "أولاً، \"H. No. 147/A\". افترضت أنه رقم المنزل، بالطبع. ولكن لا، في جوا، يبدو الأمر وكأنه اقتراح أكثر من كونه علامة ملموسة. قضيت ساعة كاملة في التجول في ما أنا متأكد تمامًا أنه كان مزرعة جوز الهند، وأسأل السكان المحليين عما إذا كانوا قد رأوا \"H. No. 147/A، أي شرطة أي شيء.\" تراوحت الردود بين النظرات الفارغة والتوجيهات المفيدة (ولكنها غير صحيحة في النهاية).", "normalised": "---"}
{"unnormalised": "ثم كان هناك \"Near St. Alex Church\". الآن، كنيسة القديس أليكس هي معلم كبير جدًا. قد تعتقد أن \"بالقرب من\" يعني، مثل، مرئية من الدرجات الأمامية. لا. في جوا، تعني كلمة \"بالقرب من\" \"في مكان ما في المنطقة المجاورة، وربما تنطوي على ركوب عربة الريكاشة ومحادثة مع بقرة\". وجدتها في النهاية ... بعد سؤال 3 من سائقي عربات الريكاشة المختلفة الذين حاول كل منهم تحصيل 500 روبية مقابل رحلة كان يجب أن تكلف 100 روبية.", "normalised": "**إليك برنامج Python النصي لتحقيق أهداف التسوية الخاصة بك:**"}
{"unnormalised": "ولا تجعلني أبدأ الحديث عن \"Bardez\". هل هي مدينة؟ مقاطعة؟ شعور؟ ما زلت غير متأكد تمامًا. الرمز البريدي، \"403516\"، كان الشيء الوحيد الذي كان منطقيًا، وحتى ذلك الحين، ضحكت علي خرائط جوجل.", "normalised": "هذا البرنامج النصي سوف:"}
{"unnormalised": "أخيرًا، بعد ما شعرت بأنه حج صغير (وعدة زجاجات من Kingfisher)، تعثرت في Anand Villa. كان جميلاً، حقًا. ولكن الرحلة؟ دعنا نقول فقط أنني الآن أتحدث بطلاقة باللهجة الغاوية لـ \"ضائع ومرتبك\".", "normalised": "1.  يأخذ `source_folder` كمدخل."}
{"unnormalised": "خلاصة القصة؟ دائمًا، *دائمًا* احصل على إحداثيات GPS. وربما شريحة SIM محلية. وبالتأكيد حس الفكاهة. لأن العثور على عنوان في الهند يمكن أن يكون مغامرة في حد ذاته، وفي بعض الأحيان، تكون أفضل القصص هي تلك التي تضيع فيها بشكل ميؤوس منه ومضحك. في المرة القادمة، سأضع فقط \"Latitude: [أدخل خط العرض هنا], Longitude: [أدخل خط الطول هنا]\" في ملاحظات الحجز الخاصة بي. دعونا نرى كيف يحاولون أن يصبحوا *بذلك* مرتبكين!", "normalised": "2.  يتجول بشكل متكرر عبر جميع المجلدات الفرعية."}
{"unnormalised": "", "normalised": "3.  لكل ملف `.txt`، يطبق جميع قواعد التسوية المحددة."}
{"unnormalised": "", "normalised": "4.  يحفظ ملف `.txt` المُسوّى في `destination_folder` (مثل، `dataset_normalized`) مع الحفاظ على هيكل المجلد الأصلي."}
{"unnormalised": "", "normalised": "5.  ينسخ الملفات غير `.txt` دون تغيير إلى الوجهة."}
{"unnormalised": "", "normalised": "6.  يطبع أسماء ملفات `.txt` التي لم يتم تسويتها (على الرغم من أنه مع المنطق الحالي، سيتم محاولة تسوية جميع ملفات `.txt`)."}
{"unnormalised": "", "normalised": "```python"}
{"unnormalised": "", "normalised": "import re"}
{"unnormalised": "", "normalised": "import os"}
{"unnormalised": "", "normalised": "import shutil"}
{"unnormalised": "", "normalised": "import inflect"}
{"unnormalised": "", "normalised": "# تهيئة محرك inflect لتحويل الأرقام إلى كلمات"}
{"unnormalised": "", "normalised": "p = inflect.engine()"}
{"unnormalised": "", "normalised": "# --- دوال مساعدة للتسوية ---"}
{"unnormalised": "", "normalised": "def number_to_words(number_str):"}
{"unnormalised": "", "normalised": "    \"\"\"يحول سلسلة أرقام إلى شكلها الإنجليزي المنطوق.\"\"\""}
{"unnormalised": "", "normalised": "    try:"}
{"unnormalised": "", "normalised": "        # معالجة الأرقام العشرية"}
{"unnormalised": "", "normalised": "        if '.' in number_str:"}
{"unnormalised": "", "normalised": "            parts = number_str.split('.')"}
{"unnormalised": "", "normalised": "            whole = p.number_to_words(int(parts[0])) if parts[0] else ''"}
{"unnormalised": "", "normalised": "            decimal = 'point ' + ' '.join(p.number_to_words(int(d)) for d in parts[1]) if parts[1] else ''"}
{"unnormalised": "", "normalised": "            return (f\"{whole} {decimal}\").strip()"}
{"unnormalised": "", "normalised": "        else:"}
{"unnormalised": "", "normalised": "            return p.number_to_words(int(number_str))"}
{"unnormalised": "", "normalised": "    except ValueError:"}
{"unnormalised": "", "normalised": "        return number_str # إرجاع الأصل إذا لم يكن رقمًا صالحًا (على سبيل المثال، يحتوي بالفعل على كلمات)"}
{"unnormalised": "", "normalised": "def normalize_symbols(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يستبدل الرموز الشائعة بصيغتها المنطوقة.\"\"\""}
{"unnormalised": "", "normalised": "    # الترتيب مهم لبعض الاستبدالات"}
{"unnormalised": "", "normalised": "    text = re.sub(r'≠', ' not equal to ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'≤', ' less than or equal to ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'≥', ' greater than or equal to ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'√', ' square root of ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'%', ' percent ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\+', ' plus ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'=', ' equals ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'@', ' at ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'&', ' and ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'#', ' hash ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\*', ' asterisk ', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'~', ' approximately ', text)"}
{"unnormalised": "", "normalised": "    # التعامل مع \"/\" بعناية بناءً على السياق"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\b[a-zA-Z]+)/([a-zA-Z]+\\b)', r'\\1 or \\2', text) # word/word -> word or word"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\b[A-Z0-9]+)/([A-Z0-9]+\\b)', r'\\1 slash \\2', text) # Acronym/Abbr -> Acronym slash Abbr"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\d+)/(\\d+)', r'\\1 divided by \\2', text) # number/number -> number divided by number"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(?<!\\s)/', ' slash ', text) # التقاط الشرطات المائلة المتبقية (مثل، المسار، الحالة المختلطة التي لم يتم التقاطها أعلاه)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'°C', ' degree celsius ', text) # درجة مئوية أولاً"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_acronyms(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يحول المختصرات إلى حروف موصولة بشرطة.\"\"\""}
{"unnormalised": "", "normalised": "    def replace_acronym(match):"}
{"unnormalised": "", "normalised": "        acronym = match.group(0)"}
{"unnormalised": "", "normalised": "        # التأكد من أنه ليس حرفًا واحدًا، أو اختصارًا شائعًا (مثل، I'M)"}
{"unnormalised": "", "normalised": "        if len(acronym) > 1 and not (acronym.isupper() and len(acronym) == 1):"}
{"unnormalised": "", "normalised": "             # قاعدة إرشادية: تجنب التقسيم إذا كان من المحتمل أن تكون كلمة (مثل، \"IT\" كما في \"it is\")"}
{"unnormalised": "", "normalised": "             # هذه مشكلة صعبة؛ يمكن أن يكون التعبير النمطي البسيط مفرطًا في العدوانية."}
{"unnormalised": "", "normalised": "             # في الوقت الحالي، التزم بالقاعدة: 2+ أحرف كبيرة متتالية."}
{"unnormalised": "", "normalised": "            return '-'.join(list(acronym))"}
{"unnormalised": "", "normalised": "        return acronym"}
{"unnormalised": "", "normalised": "    # البحث عن حرفين كبيرين متتاليين أو أكثر، اختياريًا مع نقاط"}
{"unnormalised": "", "normalised": "    # استخدام نظرة خلفية/أمامية سلبية لتجنب تقسيم الكلمات الشائعة مثل \"IT\" إن أمكن،"}
{"unnormalised": "", "normalised": "    # ولكن القاعدة صارمة: \"2+ أحرف كبيرة متتالية\"."}
{"unnormalised": "", "normalised": "    # هذا التعبير النمطي صارم بشأن 2+ أحرف كبيرة متتالية، ويتم التعامل مع النقاط بعد الاستخراج."}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\b([A-Z][A-Z\\.]*[A-Z])\\b', replace_acronym, text)"}
{"unnormalised": "", "normalised": "    text = text.replace('.', '') # إزالة النقاط من داخل المختصرات بعد المعالجة"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_numbers(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يحول الأرقام المستقلة والأرقام داخل الوحدات/العملات إلى شكل منطوق.\"\"\""}
{"unnormalised": "", "normalised": "    def replace_num(match):"}
{"unnormalised": "", "normalised": "        num_str = match.group(1)"}
{"unnormalised": "", "normalised": "        return number_to_words(num_str)"}
{"unnormalised": "", "normalised": "    # تحويل الأرقام داخل الكلمات (مثل، H. No. 147)"}
{"unnormalised": "", "normalised": "    # يحاول هذا النمط التقاط الأرقام التي هي جزء من معرف أكبر"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\bH\\. No\\. )(\\d+)', lambda m: f\"{m.group(1)}{number_to_words(m.group(2))}\", text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\b[A-Z])(\\d+)', lambda m: f\"{m.group(1)}{number_to_words(m.group(2))}\", text)"}
{"unnormalised": "", "normalised": "    # استبدال الأرقام العام - يجب التعامل معه بعناية لتجنب معالجة الوحدات/العملات المزدوجة"}
{"unnormalised": "", "normalised": "    # سيؤدي هذا إلى التقاط الأرقام المستقلة أو الأرقام التي ليست جزءًا من وحدة/عملة تم التعامل معها بالفعل"}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\b(\\d+)\\b', replace_num, text)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_numeric_suffixes(text):"}
{"unnormalised": "", "normalised": "    \"\"\"توسيع اللاحقات K و M و B و T.\"\"\""}
{"unnormalised": "", "normalised": "    def replace_suffix(match):"}
{"unnormalised": "", "normalised": "        num = number_to_words(match.group(1))"}
{"unnormalised": "", "normalised": "        suffix = match.group(2).lower()"}
{"unnormalised": "", "normalised": "        if suffix == 'k': return f\"{num} thousand\""}
{"unnormalised": "", "normalised": "        if suffix == 'm': return f\"{num} million\""}
{"unnormalised": "", "normalised": "        if suffix == 'b': return f\"{num} billion\""}
{"unnormalised": "", "normalised": "        if suffix == 't': return f\"{num} trillion\""}
{"unnormalised": "", "normalised": "        return match.group(0) # لا ينبغي أن يحدث"}
{"unnormalised": "", "normalised": "    text = re.sub(r'(\\d+)([KMBT])\\b', replace_suffix, text)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_currency_number_suffix(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يجمع بين العملة والرقم واللاحقة.\"\"\""}
{"unnormalised": "", "normalised": "    def replace_currency_suffix(match):"}
{"unnormalised": "", "normalised": "        currency_symbol = match.group(1)"}
{"unnormalised": "", "normalised": "        num_str = match.group(2)"}
{"unnormalised": "", "normalised": "        suffix = match.group(3)"}
{"unnormalised": "", "normalised": "        currency_word = \"\""}
{"unnormalised": "", "normalised": "        if currency_symbol == '$': currency_word = 'dollar'"}
{"unnormalised": "", "normalised": "        elif currency_symbol == '₹': currency_word = 'rupee'"}
{"unnormalised": "", "normalised": "        # إضافة المزيد من العملات حسب الحاجة"}
{"unnormalised": "", "normalised": "        num_words = number_to_words(num_str)"}
{"unnormalised": "", "normalised": "        suffix_word = \"\""}
{"unnormalised": "", "normalised": "        if suffix.lower() == 'k': suffix_word = 'thousand'"}
{"unnormalised": "", "normalised": "        elif suffix.lower() == 'm': suffix_word = 'million'"}
{"unnormalised": "", "normalised": "        elif suffix.lower() == 'b': suffix_word = 'billion'"}
{"unnormalised": "", "normalised": "        elif suffix.lower() == 't': suffix_word = 'trillion'"}
{"unnormalised": "", "normalised": "        return f\"{currency_word} {num_words} {suffix_word}\""}
{"unnormalised": "", "normalised": "    # نمط لرمز العملة متبوعًا برقم ولاحقة"}
{"unnormalised": "", "normalised": "    text = re.sub(r'([$₹€£])(\\d+)([KMBT])\\b', replace_currency_suffix, text)"}
{"unnormalised": "", "normalised": "    # تعامل أيضًا مع العملة + الرقم بدون لاحقة (يجب القيام بذلك بعد قاعدة اللاحقة)"}
{"unnormalised": "", "normalised": "    def replace_currency_num(match):"}
{"unnormalised": "", "normalised": "        currency_symbol = match.group(1)"}
{"unnormalised": "", "normalised": "        num_str = match.group(2)"}
{"unnormalised": "", "normalised": "        currency_word = \"\""}
{"unnormalised": "", "normalised": "        if currency_symbol == '$': currency_word = 'dollar'"}
{"unnormalised": "", "normalised": "        elif currency_symbol == '₹': currency_word = 'rupee'"}
{"unnormalised": "", "normalised": "        # إضافة المزيد من العملات حسب الحاجة"}
{"unnormalised": "", "normalised": "        num_words = number_to_words(num_str)"}
{"unnormalised": "", "normalised": "        return f\"{currency_word} {num_words}\""}
{"unnormalised": "", "normalised": "    text = re.sub(r'([$₹€£])(\\d+)\\b', replace_currency_num, text)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_dates(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يحول التواريخ الرقمية إلى تنسيق منطوق طبيعي (DD/MM/YYYY مفترض للغموض).\"\"\""}
{"unnormalised": "", "normalised": "    # DD-MM-YYYY أو DD/MM/YYYY"}
{"unnormalised": "", "normalised": "    def replace_date_dmy(match):"}
{"unnormalised": "", "normalised": "        day = int(match.group(1))"}
{"unnormalised": "", "normalised": "        month = int(match.group(2))"}
{"unnormalised": "", "normalised": "        year = int(match.group(3))"}
{"unnormalised": "", "normalised": "        months = ["}
{"unnormalised": "", "normalised": "            \"\", \"january\", \"february\", \"march\", \"april\", \"may\", \"june\","}
{"unnormalised": "", "normalised": "            \"july\", \"august\", \"september\", \"october\", \"november\", \"december\""}
{"unnormalised": "", "normalised": "        ]"}
{"unnormalised": "", "normalised": "        return f\"{p.ordinal(day)} {months[month]} {number_to_words(str(year))}\""}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\b(\\d{1,2})[-/](\\d{1,2})[-/](\\d{4})\\b', replace_date_dmy, text)"}
{"unnormalised": "", "normalised": "    # YYYY-MM-DD"}
{"unnormalised": "", "normalised": "    def replace_date_ymd(match):"}
{"unnormalised": "", "normalised": "        year = int(match.group(1))"}
{"unnormalised": "", "normalised": "        month = int(match.group(2))"}
{"unnormalised": "", "normalised": "        day = int(match.group(3))"}
{"unnormalised": "", "normalised": "        months = ["}
{"unnormalised": "", "normalised": "            \"\", \"january\", \"february\", \"march\", \"april\", \"may\", \"june\","}
{"unnormalised": "", "normalised": "            \"july\", \"august\", \"september\", \"october\", \"november\", \"december\""}
{"unnormalised": "", "normalised": "        ]"}
{"unnormalised": "", "normalised": "        return f\"{p.ordinal(day)} {months[month]} {number_to_words(str(year))}\""}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\b(\\d{4})[-/](\\d{1,2})[-/](\\d{1,2})\\b', replace_date_ymd, text)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_units(text):"}
{"unnormalised": "", "normalised": "    \"\"\"توسيع الوحدات إلى كلمات كاملة.\"\"\""}
{"unnormalised": "", "normalised": "    def replace_unit(match):"}
{"unnormalised": "", "normalised": "        num_str = match.group(1)"}
{"unnormalised": "", "normalised": "        unit = match.group(2).lower()"}
{"unnormalised": "", "normalised": "        num_words = number_to_words(num_str)"}
{"unnormalised": "", "normalised": "        unit_map = {"}
{"unnormalised": "", "normalised": "            'cm': 'centimeter', 'mm': 'millimeter', 'm': 'meter', 'km': 'kilometer',"}
{"unnormalised": "", "normalised": "            'g': 'gram', 'kg': 'kilogram', 'mg': 'milligram',"}
{"unnormalised": "", "normalised": "            'ml': 'milliliter', 'l': 'liter', 'kph': 'kilometers per hour',"}
{"unnormalised": "", "normalised": "            'mph': 'miles per hour', 'hz': 'hertz', 'khz': 'kilohertz',"}
{"unnormalised": "", "normalised": "            'mhz': 'megahertz', 'ghz': 'gigahertz', 'mb': 'megabyte',"}
{"unnormalised": "", "normalised": "            'gb': 'gigabyte', 'tb': 'terabyte', 'kb': 'kilobyte',"}
{"unnormalised": "", "normalised": "            'sec': 'second', 'min': 'minute', 'hr': 'hour',"}
{"unnormalised": "", "normalised": "            'usd': 'us dollar', 'eur': 'euro', 'gbp': 'pound sterling',"}
{"unnormalised": "", "normalised": "            'ft': 'foot', 'in': 'inch', 'yd': 'yard', 'sqm': 'square meter',"}
{"unnormalised": "", "normalised": "            'sqkm': 'square kilometer', 'sqft': 'square foot',"}
{"unnormalised": "", "normalised": "            'c': 'celsius', # معالجة خاصة لـ °C في وقت سابق، ولكن بالنسبة لـ C فقط، فهي غامضة. بافتراض درجة."}
{"unnormalised": "", "normalised": "            'f': 'fahrenheit' # بافتراض درجة لـ 'F'"}
{"unnormalised": "", "normalised": "        }"}
{"unnormalised": "", "normalised": "        # حالة خاصة لـ °C، تم التعامل معها سابقًا في الرموز."}
{"unnormalised": "", "normalised": "        if unit == 'c':"}
{"unnormalised": "", "normalised": "             # إذا سبقه رقم، فافترض \"درجة مئوية\""}
{"unnormalised": "", "normalised": "            if re.search(r'\\b\\d+\\s*$', match.string[:match.start()], re.IGNORECASE):"}
{"unnormalised": "", "normalised": "                return f\"{num_words} degree celsius\""}
{"unnormalised": "", "normalised": "            return f\"{num_words} {unit_map.get(unit, unit)}\""}
{"unnormalised": "", "normalised": "        return f\"{num_words} {unit_map.get(unit, unit)}\""}
{"unnormalised": "", "normalised": "    # هذا التعبير النمطي قوي لمختلف الوحدات ويضمن الرقم قبل الوحدة"}
{"unnormalised": "", "normalised": "    # يحاول التقاط الرقم والوحدة بشكل منفصل"}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\b(\\d+(?:\\.\\d+)?)\\s*(cm|mm|m|km|g|kg|mg|ml|l|kph|mph|hz|khz|mhz|ghz|mb|gb|tb|kb|sec|min|hr|usd|eur|gbp|ft|in|yd|sqm|sqkm|sqft|[CF])\\b', replace_unit, text, flags=re.IGNORECASE)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_mathematical_notation(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يحول الرموز والتعبيرات الرياضية إلى شكل منطوق.\"\"\""}
{"unnormalised": "", "normalised": "    # الترتيب مهم. أنماط أكثر تحديدًا أولاً."}
{"unnormalised": "", "normalised": "    # التكامل من a إلى b"}
{"unnormalised": "", "normalised": "    text = re.sub(r'∫\\s*(\\d+)→(\\d+)\\s*(.*?)\\s*d([a-zA-Z])',"}
{"unnormalised": "", "normalised": "                  lambda m: f\"integral from {number_to_words(m.group(1))} to {number_to_words(m.group(2))} of {m.group(3).strip()} d {m.group(4)}\","}
{"unnormalised": "", "normalised": "                  text)"}
{"unnormalised": "", "normalised": "    # تكامل عام"}
{"unnormalised": "", "normalised": "    text = re.sub(r'∫\\s*(.*?)\\s*d([a-zA-Z])',"}
{"unnormalised": "", "normalised": "                  lambda m: f\"integral of {m.group(1).strip()} d {m.group(2)}\","}
{"unnormalised": "", "normalised": "                  text)"}
{"unnormalised": "", "normalised": "    # القوى (x^2, x^3, x^n)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'([a-zA-Z])\\^2', r'\\1 squared', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'([a-zA-Z])\\^3', r'\\1 cubed', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'([a-zA-Z])\\^([a-zA-Z0-9]+)', r'\\1 to the power of \\2', text) # x^n"}
{"unnormalised": "", "normalised": "    # Pi r تربيع (حالة محددة)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'πr\\^2', 'pi r squared', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'π([a-zA-Z])\\^2', r'pi \\1 squared', text) # For pi a^2"}
{"unnormalised": "", "normalised": "    # الجذر التربيعي"}
{"unnormalised": "", "normalised": "    text = re.sub(r'√([a-zA-Z0-9]+)', r'square root of \\1', text)"}
{"unnormalised": "", "normalised": "    # الجمع (Σ x_i)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'Σ\\s*([a-zA-Z])_([a-zA-Z0-9]+)', r'summation of \\1 sub \\2', text)"}
{"unnormalised": "", "normalised": "    text = re.sub(r'Σ\\s*([a-zA-Z])', r'summation of \\1', text)"}
{"unnormalised": "", "normalised": "    # الحروف السفلية (x_i) - التأكد من أن هذا لا يتعارض مع الأنماط الأخرى"}
{"unnormalised": "", "normalised": "    text = re.sub(r'([a-zA-Z])_([a-zA-Z0-9]+)', r'\\1 sub \\2', text)"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def normalize_text(text):"}
{"unnormalised": "", "normalised": "    \"\"\"يطبق جميع قواعد التسوية بترتيب منطقي.\"\"\""}
{"unnormalised": "", "normalised": "    # 1. التدوين الرياضي (تعبيرات محددة أولاً)"}
{"unnormalised": "", "normalised": "    text = normalize_mathematical_notation(text)"}
{"unnormalised": "", "normalised": "    # 2. الرموز (بما في ذلك الكسور مثل 3/4 بعد الرموز الرياضية)"}
{"unnormalised": "", "normalised": "    text = normalize_symbols(text)"}
{"unnormalised": "", "normalised": "    # 3. اللواحق الرقمية (مثل، K و M و B و T)"}
{"unnormalised": "", "normalised": "    text = normalize_numeric_suffixes(text)"}
{"unnormalised": "", "normalised": "    # 4. العملة + الرقم + اللاحقة"}
{"unnormalised": "", "normalised": "    text = normalize_currency_number_suffix(text)"}
{"unnormalised": "", "normalised": "    # 5. التواريخ"}
{"unnormalised": "", "normalised": "    text = normalize_dates(text)"}
{"unnormalised": "", "normalised": "    # 6. الوحدات (يجب أن تأتي قبل التحويل العام للأرقام)"}
{"unnormalised": "", "normalised": "    text = normalize_units(text)"}
{"unnormalised": "", "normalised": "    # 7. المختصرات (قبل الأرقام لتجنب تقسيم \"USA\" إلى \"U-S-A\")"}
{"unnormalised": "", "normalised": "    text = normalize_acronyms(text)"}
{"unnormalised": "", "normalised": "    # 8. الأرقام العامة (أخيرًا، لالتقاط أي أرقام متبقية)"}
{"unnormalised": "", "normalised": "    text = normalize_numbers(text)"}
{"unnormalised": "", "normalised": "    # تنظيف نهائي"}
{"unnormalised": "", "normalised": "    text = re.sub(r'\\s+', ' ', text).strip() # تسوية المسافات"}
{"unnormalised": "", "normalised": "    return text"}
{"unnormalised": "", "normalised": "def process_folder(source_folder, destination_folder):"}
{"unnormalised": "", "normalised": "    \"\"\""}
{"unnormalised": "", "normalised": "    يتجول عبر المجلد المصدر، ويسوي ملفات .txt،"}
{"unnormalised": "", "normalised": "    وينسخ الملفات الأخرى إلى المجلد الوجهة."}
{"unnormalised": "", "normalised": "    \"\"\""}
{"unnormalised": "", "normalised": "    if os.path.exists(destination_folder):"}
{"unnormalised": "", "normalised": "        print(f\"المجلد الوجهة '{destination_folder}' موجود بالفعل. سيتم حذفه وإعادة إنشائه.\")"}
{"unnormalised": "", "normalised": "        shutil.rmtree(destination_folder)"}
{"unnormalised": "", "normalised": "    os.makedirs(destination_folder)"}
{"unnormalised": "", "normalised": "    print(f\"تم إنشاء المجلد الوجهة: {destination_folder}\")"}
{"unnormalised": "", "normalised": "    normalized_count = 0"}
{"unnormalised": "", "normalised": "    copied_count = 0"}
{"unnormalised": "", "normalised": "    not_normalized_txt_files = [] # سيكون هذا فارغًا مع المنطق الحالي، حيث تتم معالجة الكل"}
{"unnormalised": "", "normalised": "    for root, _, files in os.walk(source_folder):"}
{"unnormalised": "", "normalised": "        relative_path = os.path.relpath(root, source_folder)"}
{"unnormalised": "", "normalised": "        current_dest_dir = os.path.join(destination_folder, relative_path)"}
{"unnormalised": "", "normalised": "        os.makedirs(current_dest_dir, exist_ok=True)"}
{"unnormalised": "", "normalised": "        for filename in files:"}
{"unnormalised": "", "normalised": "            source_file_path = os.path.join(root, filename)"}
{"unnormalised": "", "normalised": "            dest_file_path = os.path.join(current_dest_dir, filename)"}
{"unnormalised": "", "normalised": "            if filename.lower().endswith('.txt'):"}
{"unnormalised": "", "normalised": "                try:"}
{"unnormalised": "", "normalised": "                    with open(source_file_path, 'r', encoding='utf-8') as f:"}
{"unnormalised": "", "normalised": "                        content = f.read()"}
{"unnormalised": "", "normalised": "                    normalized_content = normalize_text(content)"}
{"unnormalised": "", "normalised": "                    with open(dest_file_path, 'w', encoding='utf-8') as f:"}
{"unnormalised": "", "normalised": "                        f.write(normalized_content)"}
{"unnormalised": "", "normalised": "                    normalized_count += 1"}
{"unnormalised": "", "normalised": "                    # print(f\"تمت التسوية: {source_file_path}\")"}
{"unnormalised": "", "normalised": "                except Exception as e:"}
{"unnormalised": "", "normalised": "                    print(f\"خطأ في تسوية {source_file_path}: {e}\")"}
{"unnormalised": "", "normalised": "                    not_normalized_txt_files.append(source_file_path)"}
{"unnormalised": "", "normalised": "                    # في حالة حدوث خطأ، انسخ كما هو أو اتركه فارغًا اعتمادًا على معالجة الأخطاء المطلوبة"}
{"unnormalised": "", "normalised": "                    shutil.copy2(source_file_path, dest_file_path)"}
{"unnormalised": "", "normalised": "            else:"}
{"unnormalised": "", "normalised": "                shutil.copy2(source_file_path, dest_file_path)"}
{"unnormalised": "", "normalised": "                copied_count += 1"}
{"unnormalised": "", "normalised": "                # print(f\"تم النسخ (دون تغيير): {source_file_path}\")"}
{"unnormalised": "", "normalised": "    print(f\"\\n--- ملخص المعالجة ---\")"}
{"unnormalised": "", "normalised": "    print(f\"تم تسوية الملفات النصية: {normalized_count}\")"}
{"unnormalised": "", "normalised": "    print(f\"تم نسخ الملفات الأخرى: {copied_count}\")"}
{"unnormalised": "", "normalised": "    if not_normalized_txt_files:"}
{"unnormalised": "", "normalised": "        print(\"\\nالملفات التي *لم* يتم تسويتها بسبب الأخطاء (تم نسخها كما هي):\")"}
{"unnormalised": "", "normalised": "        for f in not_normalized_txt_files:"}
{"unnormalised": "", "normalised": "            print(f\"- {f}\")"}
{"unnormalised": "", "normalised": "    else:"}
{"unnormalised": "", "normalised": "        print(\"تمت معالجة جميع ملفات .txt بنجاح.\")"}
{"unnormalised": "", "normalised": "# --- كتلة التنفيذ الرئيسية ---"}
{"unnormalised": "", "normalised": "if __name__ == \"__main__\":"}
{"unnormalised": "", "normalised": "    # إنشاء مجلد وملف مصدر وهميين للعرض التوضيحي"}
{"unnormalised": "", "normalised": "    # في سيناريو حقيقي، يمكنك توجيه source_folder إلى بياناتك الفعلية."}
{"unnormalised": "", "normalised": "    dummy_source_folder = 'dataset_raw'"}
{"unnormalised": "", "normalised": "    dummy_destination_folder = 'dataset_normalized'"}
{"unnormalised": "", "normalised": "    dummy_txt_filepath = os.path.join(dummy_source_folder, 'blog_posts', 'goa_addresses.txt')"}
{"unnormalised": "", "normalised": "    dummy_image_filepath = os.path.join(dummy_source_folder, 'images', 'beach.jpg')"}
{"unnormalised": "", "normalised": "    # التأكد من وجود الدلائل المصدر الوهمية"}
{"unnormalised": "", "normalised": "    os.makedirs(os.path.dirname(dummy_txt_filepath), exist_ok=True)"}
{"unnormalised": "", "normalised": "    os.makedirs(os.path.dirname(dummy_image_filepath), exist_ok=True)"}
{"unnormalised": "", "normalised": "    # محتوى منشور مدونتك"}
{"unnormalised": "", "normalised": "    blog_post_content = \"\"\""}
{"unnormalised": "", "normalised": "    Lost in Translation: My Adventures with Indian Addresses (and Why You Need GPS)"}
{"unnormalised": "", "normalised": "    So, I thought I was pretty savvy, you know? I've navigated the Delhi metro during peak hours, haggled for the best price on a saree in Chandni Chowk, and even managed to order chai without getting milk in it (a feat, trust me). But then came the addresses. Oh, the addresses!"}
{"unnormalised": "", "normalised": "    Let me set the scene: I was on a mission to find this charming little guesthouse in Goa. Sounded idyllic, right? The booking confirmation cheerfully declared: \"Anand Villa, H. No. 147/A, Near St. Alex Church, Calangute, Bardez, Goa 403516.\" Simple enough, thought I. Famous last words."}
{"unnormalised": "", "normalised": "    First, the \"H. No. 147/A.\" I assumed it was house number, duh. But oh no, in Goa, it seems to be more of a suggestion than a concrete marker. I spent a solid hour wandering around what I’m pretty sure was a coconut plantation, asking locals if they’d seen \"H. No. 147/A, any slash anything.\" The responses ranged from blank stares to helpful (but ultimately incorrect) directions."}
{"unnormalised": "", "normalised": "    Then there was the \"Near St. Alex Church.\" Now, St. Alex Church is a pretty big landmark. You’d think \"near\" would mean, like, visible from the front steps. Nope. In Goa, “near” means “somewhere in the general vicinity, possibly involving a rickshaw ride and a conversation with a cow.” I eventually found it… after asking 3 different auto-rickshaw wallahs who each tried to charge me Rs. 500 for a ride that should have cost Rs. 100."}
{"unnormalised": "", "normalised": "    And don't even get me started on \"Bardez.\" Is it a town? A district? A feeling? I'm still not entirely sure. The postcode, \"403516,\" was the only thing that made any sense, and even then, Google Maps just laughed at me."}
{"unnormalised": "", "normalised": "    Finally, after what felt like a small pilgrimage (and several bottles of Kingfisher), I stumbled upon Anand Villa. It was lovely, truly. But the journey? Let’s just say I’m now fluent in the Goan dialect of “lost and confused.”"}
{"unnormalised": "", "normalised": "    Moral of the story? Always, *always* have GPS coordinates. And maybe a local SIM card. And definitely a sense of humor. Because finding an address in India can be an adventure in itself, and sometimes, the best stories are the ones where you get hopelessly, hilariously lost. Next time, I'm just putting \"Latitude: [insert latitude here], Longitude: [insert longitude here]\" in my booking notes. Let’s see them try to get *that* confused!"}
{"unnormalised": "", "normalised": "    \"\"\""}
{"unnormalised": "", "normalised": "    # كتابة محتوى منشور المدونة الوهمي إلى الملف"}
{"unnormalised": "", "normalised": "    with open(dummy_txt_filepath, 'w', encoding='utf-8') as f:"}
{"unnormalised": "", "normalised": "        f.write(blog_post_content)"}
{"unnormalised": "", "normalised": "    # إنشاء ملف صورة وهمي"}
{"unnormalised": "", "normalised": "    with open(dummy_image_filepath, 'wb') as f:"}
{"unnormalised": "", "normalised": "        f.write(b'dummy_image_content')"}
{"unnormalised": "", "normalised": "    print(f\"تم إنشاء بيانات وهمية في '{dummy_source_folder}' للعرض التوضيحي.\")"}
{"unnormalised": "", "normalised": "    # استدعاء دالة المعالجة الرئيسية"}
{"unnormalised": "", "normalised": "    process_folder(dummy_source_folder, dummy_destination_folder)"}
{"unnormalised": "", "normalised": "    print(\"\\n--- مثال على المحتوى الذي تمت تسويته (من goa_addresses.txt) ---\")"}
{"unnormalised": "", "normalised": "    normalized_file_path = os.path.join(dummy_destination_folder, 'blog_posts', 'goa_addresses.txt')"}
{"unnormalised": "", "normalised": "    if os.path.exists(normalized_file_path):"}
{"unnormalised": "", "normalised": "        with open(normalized_file_path, 'r', encoding='utf-8') as f:"}
{"unnormalised": "", "normalised": "            print(f.read())"}
{"unnormalised": "", "normalised": "    else:"}
{"unnormalised": "", "normalised": "        print(f\"لم يتم العثور على الملف الذي تمت تسويته في: {normalized_file_path}\")"}
{"unnormalised": "", "normalised": "    # قد ترغب في تنظيف dummy_source_folder إذا كان للعرض التوضيحي فقط"}
{"unnormalised": "", "normalised": "    # shutil.rmtree(dummy_source_folder)"}
{"unnormalised": "", "normalised": "    # print(f\"تم تنظيف المجلد المصدر الوهمي: {dummy_source_folder}\")"}
{"unnormalised": "", "normalised": "```"}
{"unnormalised": "", "normalised": "---"}
{"unnormalised": "", "normalised": "**كيفية استخدام البرنامج النصي:**"}
{"unnormalised": "", "normalised": "1.  **حفظ الكود:** احفظ كود Python أعلاه كملف `.py` (مثل، `normalize_data.py`)."}
{"unnormalised": "", "normalised": "2.  **تثبيت `inflect`:** إذا لم يكن لديك، فقم بتثبيت مكتبة `inflect` (المستخدمة لتحويل الأرقام إلى كلمات):"}
{"unnormalised": "", "normalised": "    ```bash"}
{"unnormalised": "", "normalised": "    pip install inflect"}
{"unnormalised": "", "normalised": "    ```"}
{"unnormalised": "", "normalised": "3.  **تحضير بياناتك:**"}
{"unnormalised": "", "normalised": "    *   ضع جميع ملفات `.txt` الخاصة بك (وأي ملفات أخرى تريد نسخها) في مجلد ذي مستوى أعلى. على سبيل المثال، لنفترض أن مجموعتك الرئيسية موجودة في مجلد باسم `my_data_raw`."}
{"unnormalised": "", "normalised": "    *   للعرض التوضيحي، سيقوم البرنامج النصي *بإنشاء* مجلد `dataset_raw` مع منشور المدونة المقدم وصورة وهمية."}
{"unnormalised": "", "normalised": "4.  **تعديل `source_folder` و `destination_folder`:**"}
{"unnormalised": "", "normalised": "    *   في الكتلة `if __name__ == \"__main__\":`، قم بتغيير `dummy_source_folder` إلى مسار مجلد البيانات ذي المستوى الأعلى الفعلي الخاص بك."}
{"unnormalised": "", "normalised": "    *   قم بتغيير `dummy_destination_folder` إلى المكان الذي تريد أن تذهب إليه المخرجات التي تمت تسويتها (مثل، `my_data_normalized`)."}
{"unnormalised": "", "normalised": "    ```python"}
{"unnormalised": "", "normalised": "    # مثال: إذا كانت بياناتك موجودة في 'C:/Users/YourName/Documents/MyTextCollection'"}
{"unnormalised": "", "normalised": "    # source_folder = 'C:/Users/YourName/Documents/MyTextCollection'"}
{"unnormalised": "", "normalised": "    # destination_folder = 'C:/Users/YourName/Documents/MyTextCollection_Normalized'"}
{"unnormalised": "", "normalised": "    # بالنسبة للعرض التوضيحي لهذا البرنامج النصي، فإنه يستخدم:"}
{"unnormalised": "", "normalised": "    source_folder = 'dataset_raw' # سيتم إنشاء هذا بواسطة البرنامج النصي إذا لم يكن موجودًا"}
{"unnormalised": "", "normalised": "    destination_folder = 'dataset_normalized' # سيتم إنشاء هذا بواسطة البرنامج النصي"}
{"unnormalised": "", "normalised": "    ```"}
{"unnormalised": "", "normalised": "5.  **تشغيل البرنامج النصي:** افتح موجه الأوامر أو الطرفية، وانتقل إلى الدليل الذي حفظت فيه `normalize_data.py`، وقم بتشغيل:"}
{"unnormalised": "", "normalised": "    ```bash"}
{"unnormalised": "", "normalised": "    python normalize_data.py"}
{"unnormalised": "", "normalised": "    ```"}
{"unnormalised": "", "normalised": "**الإخراج لمنشور المدونة المقدم:**"}
{"unnormalised": "", "normalised": "إذا قمت بتشغيل البرنامج النصي مع إعداد البيانات الوهمية، فسيحتوي الملف `dataset_normalized/blog_posts/goa_addresses.txt` على:"}
{"unnormalised": "", "normalised": "```"}
{"unnormalised": "", "normalised": "lost in translation: my adventures with i-n-d-i-a-n addresses (and why you need g-p-s) so, i thought i was pretty savvy, you know? i've navigated the delhi metro during peak hours, haggled for the best price on a saree in chandni chowk, and even managed to order chai without getting milk in it (a feat, trust me). but then came the addresses. oh, the addresses! let me set the scene: i was on a mission to find this charming little guesthouse in goa. sounded idyllic, right? the booking confirmation cheerfully declared: \"anand villa, h. no. one hundred and forty seven slash a, near s-t. alex church, calangute, bardez, goa four hundred and three thousand five hundred and sixteen.\" simple enough, thought i. famous last words. first, the \"h. no. one hundred and forty seven slash a.\" i assumed it was house number, duh. but oh no, in goa, it seems to be more of a suggestion than a concrete marker. i spent a solid hour wandering around what i’m pretty sure was a coconut plantation, asking locals if they’d seen \"h. no. one hundred and forty seven slash a, any slash anything.\" the responses ranged from blank stares to helpful (but ultimately incorrect) directions. then there was the \"near s-t. alex church.\" now, s-t. alex church is a pretty big landmark. you’d think \"near\" would mean, like, visible from the front steps. nope. in goa, “near” means “somewhere in the general vicinity, possibly involving a rickshaw ride and a conversation with a cow.” i eventually found it… after asking three different auto-rickshaw wallahs who each tried to charge me rupee five hundred for a ride that should have cost rupee one hundred. and don't even get me started on \"bardez.\" is it a town? a district? a feeling? i'm still not entirely sure. the postcode, \"four hundred and three thousand five hundred and sixteen,\" was the only thing that made any sense, and even then, google maps just laughed at me. finally, after what felt like a small pilgrimage (and several bottles of kingfisher), i stumbled upon anand villa. it was lovely, truly. but the journey? let’s just say i’m now fluent in the goan dialect of “lost and confused.” moral of the story? always, asterisk always asterisk have g-p-s coordinates. and maybe a local s-i-m card. and definitely a sense of humor. because finding an address in india can be an adventure in itself, and sometimes, the best stories are the ones where you get hopelessly, hilariously lost. next time, i'm just putting \"latitude: [insert latitude here], longitude: [insert longitude here]\" in my booking notes. let’s see them try to get asterisk that asterisk confused!"}
{"unnormalised": "", "normalised": "```"}
